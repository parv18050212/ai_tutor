@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Atypical Academy Brand Colors */
    --background: 0 0% 100%; /* neutral_100 */
    --foreground: 0 0% 13%; /* text */

    --card: 0 0% 100%; /* neutral_100 */
    --card-foreground: 0 0% 13%; /* text */

    --popover: 0 0% 100%; /* neutral_100 */
    --popover-foreground: 0 0% 13%; /* text */

    --primary: 283 92% 37%; /* primary */
    --primary-foreground: 0 0% 100%; /* neutral_100 */

    --secondary: 291 64% 42%; /* secondary */
    --secondary-foreground: 0 0% 100%; /* neutral_100 */

    --muted: 210 11% 96%; /* neutral_70 */
    --muted-foreground: 0 0% 40%; /* muted */

    --accent: 340 82% 52%; /* accent */
    --accent-foreground: 0 0% 100%; /* neutral_100 */

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 210 11% 96%; /* neutral_70 */
    --input: 210 11% 96%; /* neutral_70 */
    --ring: 283 92% 37%; /* primary */

    --radius: 1rem;

    /* Custom gradient and glow variables */
    --gradient-primary: linear-gradient(135deg, hsl(283 92% 37%), hsl(291 64% 42%));
    --gradient-background: linear-gradient(135deg, hsl(283 92% 97%), hsl(291 64% 95%));
    --glow-primary: 0 0 40px hsl(283 92% 37% / 0.3);
    --glow-secondary: 0 0 80px hsl(340 82% 52% / 0.2);
    
    /* Animation variables */
    --animate-float: float 6s ease-in-out infinite;
    --animate-glow: glow 2s ease-in-out infinite alternate;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Dark mode using dark black theme */
    --background: 0 0% 8%; /* very dark gray */
    --foreground: 0 0% 100%; /* neutral_100 */

    --card: 0 0% 12%; /* slightly lighter gray */
    --card-foreground: 0 0% 100%; /* neutral_100 */

    --popover: 0 0% 12%; /* slightly lighter gray */
    --popover-foreground: 0 0% 100%; /* neutral_100 */

    --primary: 0 0% 100%; /* neutral_100 */
    --primary-foreground: 0 0% 8%; /* dark background */

    --secondary: 291 64% 42%; /* secondary */
    --secondary-foreground: 0 0% 100%; /* neutral_100 */

    --muted: 0 0% 15%; /* dark gray variant */
    --muted-foreground: 0 0% 70%; /* lighter muted */

    --accent: 340 82% 52%; /* accent */
    --accent-foreground: 0 0% 100%; /* neutral_100 */

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%; /* darker gray border */
    --input: 0 0% 20%; /* darker gray input */
    --ring: 0 0% 100%; /* neutral_100 */
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Dark mode gradients */
    --gradient-background: linear-gradient(135deg, hsl(0 0% 5%), hsl(283 20% 10%));
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-default);
    background: var(--gradient-background);
    min-height: 100vh;
    font-size: 16px;
    line-height: 1.5;
  }

  /* Enhanced Focus Indicators for Accessibility */
  *:focus-visible {
    outline: 3px solid hsl(var(--primary));
    outline-offset: 2px;
    border-radius: 4px;
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 3px solid hsl(var(--primary));
    outline-offset: 2px;
    box-shadow: 0 0 0 4px hsl(var(--primary) / 0.2);
  }

  /* High contrast mode focus */
  .accessibility-high-contrast *:focus-visible {
    outline: 4px solid hsl(0 0% 100%);
    outline-offset: 2px;
    box-shadow: 0 0 0 6px hsl(0 0% 0%);
  }

  /* Typography styles matching brand guide */
  h1 {
    font-size: 36px;
    font-weight: 700;
    line-height: 1.2;
  }

  h2 {
    font-size: 28px;
    font-weight: 700;
    line-height: 1.3;
  }

  .text-large-body {
    font-size: 18px;
    font-weight: 500;
  }

  .text-small {
    font-size: 14px;
    font-weight: 400;
  }

  /* Font variables */
  :root {
    --font-default: 'Inter', Arial, sans-serif;
    --font-dyslexic: 'OpenDyslexic', Arial, sans-serif;
  }

  /* Dyslexia-friendly font class */
  .font-dyslexic,
  .accessibility-readable-font {
    font-family: var(--font-dyslexic) !important;
  }
}

@layer utilities {
  .gradient-primary {
    background: var(--gradient-primary);
  }
  
  .glow-primary {
    box-shadow: var(--glow-primary);
  }
  
  .glow-secondary {
    box-shadow: var(--glow-secondary);
  }
  
  .animate-float {
    animation: var(--animate-float);
  }
  
  .animate-glow {
    animation: var(--animate-glow);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes glow {
  0% {
    box-shadow: var(--glow-primary);
  }
  100% {
    box-shadow: var(--glow-secondary);
  }
}

/* Accessibility Classes */

/* High Contrast Mode */
.accessibility-high-contrast {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 10%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 10%;
  --popover-foreground: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 20%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 85%;
  --accent: 0 0% 15%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 25%;
  --input: 0 0% 25%;
  --ring: 0 0% 100%;
}

/* Font Size Adjustments */
.accessibility-small-text {
  font-size: 0.875rem;
}

.accessibility-large-text {
  font-size: 1.125rem;
}

.accessibility-extra-large-text {
  font-size: 1.25rem;
}

.accessibility-large-text *,
.accessibility-extra-large-text * {
  line-height: 1.6 !important;
}

/* Increased Line Spacing */
.accessibility-increased-spacing,
.accessibility-increased-spacing * {
  line-height: 2 !important;
}

/* Reduced Motion */
.accessibility-reduced-motion,
.accessibility-reduced-motion *,
.accessibility-reduced-motion *::before,
.accessibility-reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Color Blind Friendly Mode */
.accessibility-colorblind-friendly {
  --primary: 220 100% 50%; /* Blue instead of purple/pink */
  --secondary: 30 100% 50%; /* Orange for contrast */
  --destructive: 0 84% 60%; /* Red remains */
  --accent: 120 100% 40%; /* Green for success states */
}